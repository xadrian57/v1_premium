rhSearchbar.onDropdownReady=function(d){var h=d.querySelectorAll(".rh-sb-result-item");d=function(a){a=h[a];var d=a.dataset.rhSku,e=a.querySelector(".rh-sb-input-qtt"),c=a.querySelector(".rh-sb-increase"),k=a.querySelector(".rh-sb-decrease"),f=a.querySelector(".rh-sb-add-button"),g=a.querySelector(".rh-sb-product-add-to-cart");c.addEventListener("click",function(){var b=parseInt(e.value.trim());isNaN(b)&&(b=1);b++;e.value=b});k.addEventListener("click",function(){var b=parseInt(e.value.trim());isNaN(b)&&
(b=1);b--;0>=b&&(b=1);e.value=b});f.addEventListener("click",function(){$(window).trigger("add-to-cart",[d,e.value]);g.classList.add("rh-success");setTimeout(function(){g.classList.remove("rh-success")},1E3)});if("undefined"!==typeof rhSearchbar.result)for(c=0;c<rhSearchbar.result.length;c++)k=rhSearchbar.result[c],d==k.sku&&0<k.valorCooperado&&(a.querySelector(".rh-sb-valor-cooperado").innerHTML="Para cooperados:<strong>"+rhSearchbar.intelligence.numberToMoney(rhSearchbar.result[c].valorCooperado*
rhSearchbar.result[c].unitMultiplier)+"</strong>")};for(var f=0;f<h.length;f++)d(f)};
rhSearchbar.onSliderReady=function(d){var h=d.querySelectorAll(".rh-sb-product");d=function(a){a=h[a];var d=a.dataset.rhSku,e=a.querySelector(".rh-sb-input-qtt"),c=a.querySelector(".rh-sb-increase"),k=a.querySelector(".rh-sb-decrease"),f=a.querySelector(".rh-sb-add-button"),g=a.querySelector(".rh-sb-product-add-to-cart");c.addEventListener("click",function(){var b=parseInt(e.value.trim());isNaN(b)&&(b=1);b++;e.value=b});k.addEventListener("click",function(){var b=parseInt(e.value.trim());isNaN(b)&&
(b=1);b--;0>=b&&(b=1);e.value=b});f.addEventListener("click",function(){$(window).trigger("add-to-cart",[d,e.value]);g.classList.add("rh-success");setTimeout(function(){g.classList.remove("rh-success")},1E3)});for(c=0;c<rhSearchbar.overlay.products.length;c++)k=rhSearchbar.overlay.products[c],d==k.sku&&0<k.valorCooperado&&(a.querySelector(".rh-sb-valor-cooperado").innerHTML="Para cooperados:<strong>"+rhSearchbar.intelligence.numberToMoney(rhSearchbar.overlay.products[c].valorCooperado*rhSearchbar.overlay.products[c].unitMultiplier)+
"</strong>")};for(var f=0;f<h.length;f++)d(f)};
rhSearchbar.intelligence.getVtexData=function(d,h){if(0<d.length){var f=[];d.forEach(function(c){c=c.sku.split(",")[0];f.push(c)});var a="/api/catalog_system/pub/products/search?fq=skuId:"+f.join("&fq=skuId:");10<f.length&&(a+="&_from=0&_to="+(f.length-1));var l=new XMLHttpRequest;l.open("get",a,!0);var e=d;l.onreadystatechange=function(){if(4==l.readyState&&""!==h.value.trim()){d=JSON.parse(l.responseText);for(var c=0;c<d.length;c++)for(var a=d[c].items[0],f=parseFloat(d[c]["Valor Cooperado"]),g=
0;g<e.length;g++){var b=e[g].sku.split(",")[0].trim();if(a.itemId==b){b=a.unitMultiplier;var m=a.sellers[0].commertialOffer.Price*b;e[g].price=a.sellers[0].commertialOffer.ListPrice*b;e[g].sale_price=m;e[g].valorCooperado=f;e[g].unitMultiplier=b}}c=rhSearchbar.lastSearchOnServer.trim().toLowerCase();a=h.value.trim().toLowerCase();if(c===a)rhSearchbar.result=e,rhSearchbar.searchbar.setDropdown("productResult",e,h);else return!1}};l.send(null)}else rhSearchbar.searchbar.setDropdown("productResult",
[],h),rhSearchbar.result=[]};